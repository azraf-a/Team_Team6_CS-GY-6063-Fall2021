{% extends "dayplanner/base.html" %}

{% block title %} Day List {% endblock %}

{% block body %}

{% if data %}
    <table class="table has-text-left is-fullwidth">

    {% for business in data %}
        <tr>
            <td>{{ business.name }}</td>
            <td>{{ business.location.display_address.0 }}</td> 
            <td>
                <a href="#">
                    <span class="icon"
                        onclick="document.getElementById('modal_{{ business.id }}').classList.add('is-active')">
                        <i class="fas fa-info-circle"></i>
                    </span>
                </a>
            </td>
            <td>       
                <a href="/creation/{{ day.id }}/edit/searchpage?yelp_id={{ business.id }}">
                    <span class="icon"><i class="fas fa-plus-circle"></i></span>
                </a>
            </td>

            <div class="modal" id="modal_{{ business.id }}">
                <div class="modal-background"
                     onclick="document.getElementById('modal_{{ business.id }}').classList.remove('is-active')">
                </div>
                <div class="modal-content">
             
                </div>
                <div class="modal-card">
                    <div class="modal-card-body">
                        {{ business.name }}
                        {{ business.location.display_address.0 }}
                    </div>
                </div>
                <button class="modal-close is-large" 
                        aria-label="close" 
                        onclick="document.getElementById('modal_{{ business.id }}').classList.remove('is-active')">
                </button>
            </div>

        </tr>
    {% endfor %}
{% else %}
    <h2>Sorry data not found, please try again</h2>
{% endif %}

{% endblock %}