{% extends "dayplanner/base.html" %}

{% block title %} User Profile {% endblock %}

{% block body %}

<section class="hero is-primary is-fullheight">
    <div class="hero-head">
        {% include 'dayplanner/_navbar.html' %}
        </div>

            <div class="hero-body">
              <div class="container">
                <div class="columns is-centered">

                    <div class="column">

                        <div class="box">
                            <div class="field">
                                {% if page_user.is_private %}

                                <label class="label">This is a Private Page</p>

                                {% else %}

                                <br>

                                <div class="columns is-centered">
                                  <figure class="image is-128x128">
                                    <img src="https://www.seekpng.com/png/full/41-410093_circled-user-icon-user-profile-icon-png.png">
                                  </figure>
                                </div>

                                <br>

                                <label class="label is-medium">Username:</label>
                                <label class="label has-text-weight-normal">{{ page_user.user}}</label>

                                <br>


                                <label class="label is-medium">Email:</label>
                                <label class="label">{{ page_user.user.email}}</label>

                                <br>


                                <label class="label is-medium">Neighborhood:</label>
                                <label class="label"></label>

                                <br>


                                <label class="label is-medium">Bio:</label>
                                <label class="label">{{ page_user.bio}}</label>
                                {% endif %}
                            </div>
                        </div>

                    </div>

                    <div class="column">
                      <div class="box">
                        <table class="table">
                            <tr class="has-text-centered">
                                <th>Days Created</th>
                            </tr>
                            {% for day in userDayList %}
                            <tr class="has-text-centered">
                                <td>
                                  <a href="/explore/{{ day.id }}" class="button is-primary is-fullwidth is-light is-outlined">{{day.name}}</a>
                                </td>
                            </tr>
                            {% endfor %}
                        </table>
                      </div>
                    </div>

                    <div class="column">

                        <div class="box">
                            <div class="field">
                              <label for="" class="label">Days Reviewed Recently</label>
                              <br>
                              <div class="control">
                                <input placeholder="Day 1" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 2" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 3" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 4" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 5" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 6" class="input is-primary" disabled>
                              </div>
                              <br>
                            </div>
                        </div>

                    </div>

                    <div class="column">

                        <div class="box">
                            <div class="field">
                              <label for="" class="label">Days Completed Recently</label>
                              <br>
                              <div class="control">
                                <input placeholder="Day 1" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 2" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 3" class="input is-primary" disabled>
                              </div>
                              <br>
                              <div class="control">
                                <input placeholder="Day 4" class="input is-primary" disabled>
                              </div>
                              <br>
                        </div>
                      </div>

                    </div>

                </div>


    <!-- <div class="container has-text-centered">
    </div> -->

    <div class="hero-foot has-text-left">
    </div>
    
</section>


<script>
  function openTab(evt, tabName) {
      var i, x, tablinks;
      x = document.getElementsByClassName("content-tab");
      for (i = 0; i < x.length; i++) {
          x[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tab");
      for (i = 0; i < x.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" is-active", "");
      }
      document.getElementById(tabName).style.display = "block";
      evt.currentTarget.className += " is-active";
      }
  class BulmaModal {
      constructor(selector) {
          this.elem = document.querySelector(selector)
          this.close_data()
      }
      
      show() {
          this.elem.classList.toggle('is-active')
          this.on_show()
      }
      
      close() {
          this.elem.classList.toggle('is-active')
          this.on_close()
      }
      
      close_data() {
          var modalClose = this.elem.querySelectorAll("[data-bulma-modal='close'], .modal-background")
          var that = this
          modalClose.forEach(function(e) {
              e.addEventListener("click", function() {
                  
                  that.elem.classList.toggle('is-active')

                  var event = new Event('modal:close')

                  that.elem.dispatchEvent(event);
              })
          })
      }
      
      on_show() {
          var event = new Event('modal:show')
      
          this.elem.dispatchEvent(event);
      }
      
      on_close() {
          var event = new Event('modal:close')
      
          this.elem.dispatchEvent(event);
      }
      
      addEventListener(event, callback) {
          this.elem.addEventListener(event, callback)
      }
  }

  var all_mdls = document.querySelectorAll(".BulmaModal")

  all_mdls.forEach(function(mdl_c) {
      const dv_id = mdl_c.dataset.dv_id
      var mdl = new BulmaModal(`#myModal_${dv_id}`)

      mdl.addEventListener('modal:show', function() {
          console.log("opened")
      })

      mdl.addEventListener('modal:close', function() {
          console.log("closed")
      })

      const btn_c = document.querySelector(`#btn_${dv_id}`)

      btn_c.addEventListener("click", function(){
          mdl.show()
      })
  })
</script>

{% endblock %}